##################
#    MONITORS    #
##################


### Default
monitor = , preferred, auto-right, auto


### Known

# This is the place for your monitor configurations
# See more at Hyprland Wiki (https://wiki.hypr.land/Configuring/Monitors/)



##############################
#    PROGRAMS / SHORTCUTS    #
##############################


### For more easy life

# Devices variables
# I recommend to use separate variables for device names. This can help you to manage them in future

# Rofi existence check
$rofi_exist_check = pgrep -x rofi >/dev/null 2>&1 && killall rofi ||

# Alpha
$alpha = 0.89


### Programs

# Dmenu (rofi)
$app_launcher = $rofi_exist_check rofi -show drun -config launcher.rasi
$clipboard = $rofi_exist_check cliphist list | rofi -dmenu | cliphist decode | wl-copy
$alttab = $rofi_exist_check rofi -show window -config search.rasi
$search = $rofi_exist_check rofi -show calc -config search.rasi
$runner = $rofi_exist_check rofi -show run -config search.rasi
$power_menu = $rofi_exist_check rofi -show power_menu -modi power_menu:$XDG_CONFIG_HOME/rofi/power-menu.sh -theme systems.rasi
$bluetooth = $rofi_exist_check "$XDG_CONFIG_HOME/rofi/bluetooth.sh"

# Notification center (SwayNC)
$swaync = swaync-client -t -sw

# Terminal (Ghostty)
$terminal = kitty

# File manager (Nemo)
$file_manager = nemo

# Task manager (Mission Center)
$task_manager = missioncenter

# Screenshot (Hyprshot)
$screenshot_region = hyprshot -m region --clipboard-only
$screenshot_screen = hyprshot -m output --clipboard-only

# Color picker (Hyprpicker) with storing to clipboard (cliphist)
$color_picker = hyprpicker | cliphist store

# KDE Connect
$kde_connect = kdeconnectd && kdeconnect-indicator


### Scripts

# Wallpaper changer
$wallpaper_changer = ~/.config/hypr/wallpaper_changer.sh





###################
#    AUTOSTART    #
###################


### Crucial services

# Polkit
exec-once = systemctl --user start hyprpolkitagent


### Required programs

# Hypridle
exec-once = systemctl --user start hypridle.service

# Wallpaper changer
exec-once = systemctl --user start hyprpaper-changer.timer

# SwayOSD
exec-once = swayosd-server

#Sway Notification Center
exec-once = systemctl --user start swaync

# Clipboard manager
exec-once = wl-paste --type text --watch cliphist store # Stores only text data
exec-once = wl-paste --type image --watch cliphist store # Stores only image data

# SWWW
exec-once = swww-daemon

# Bars and widgets
exec-once = systemctl --user start waybar

# KDE Connect
exec-once = $kde_connect


### Other

# Cursor fix
exec-once = hyprctl setcursor Adwaita 24



#####################
#    ENVIRONMENT    #
#####################


### Variables for proper fractional scaling (useful on xwayland)

env = ELECTRON_OZONE_PLATFORM_HINT,wayland
# env = GDK_SCALE,2
# env = GDK_DPI_SCALE,0.75
# env = QT_AUTO_SCREEN_SCALE_FACTOR,1
# env = QT_ENABLE_HIGHDPI_SCALING,1
# env = QT_SCALE_FACTOR,1.5



#######################
#    CONFIGURATION    #
#######################


### Styling

# General
general {
    # Gaps
    gaps_in = 2
    gaps_out = 4
    gaps_workspaces = -4

    # Borders
    border_size = 1
    col.active_border = rgba(ebdbb2ff)
    col.inactive_border = rgba(928374ff)

    # Resize
    resize_on_border = true
    hover_icon_on_border = true

    layout = dwindle
}

# Decoration
decoration {
    # Rounding
    rounding = 8
    rounding_power = 2

    # Opacity
    active_opacity = 1
    inactive_opacity = $alpha

    shadow {
        enabled = false
        range = 4
        render_power = 3
        color =rgb(40, 40, 40)
    }

    blur {
        enabled = false
        size = 3
        passes = 5

        vibrancy = 0.1696
    }
}

# Animations
animations {
    enabled = true

    bezier = easeOutQuint,0.23,1,0.32,1
    bezier = easeInOutCubic,0.65,0.05,0.36,1
    bezier = linear,0,0,1,1
    bezier = almostLinear,0.5,0.5,0.75,1.0
    bezier = quick,0.15,0,0.1,1

    animation = global, 1, 10, default
    animation = border, 1, 5.39, easeOutQuint
    animation = windows, 1, 4.79, easeOutQuint
    animation = windowsIn, 1, 4.1, easeOutQuint, popin 87%
    animation = windowsOut, 1, 1.49, linear, popin 87%
    animation = fadeIn, 1, 1.73, almostLinear
    animation = fadeOut, 1, 1.46, almostLinear
    animation = fade, 1, 3.03, quick
    animation = layers, 1, 3.81, easeOutQuint
    animation = layersIn, 1, 4, easeOutQuint, fade
    animation = layersOut, 1, 1.5, linear, fade
    animation = fadeLayersIn, 1, 1.79, almostLinear
    animation = fadeLayersOut, 1, 1.39, almostLinear
    animation = workspaces, 1, 3, easeOutQuint
    animation = workspacesIn, 1, 3, easeOutQuint
    animation = workspacesOut, 1, 3, easeOutQuint
}


### Necessary tweaks

# Dwindle
dwindle {
    pseudotile = true
    preserve_split = true
}

# idk lol
master {
    new_status = master
}

misc {
    force_default_wallpaper = 1
    disable_hyprland_logo = true
    font_family = "Adwaita Sans"
}

cursor {
    no_break_fs_vrr = 1
    no_warps = true
}

xwayland {
    use_nearest_neighbor = false
    # force_zero_scaling = true
}



###############
#    INPUT    #
###############


### General

# This is the place for tour devices configuration 
# See more at Hyprland Wiki (https://wiki.hypr.land/Configuring/Keywords/#per-device-input-configs)



#####################
#    KEYBINDINGS    #
#####################


### Main mod button (Super / Windows)
$main_mod = SUPER


### Window and workspaces management

## Windows

# Close window
bind = Alt, F4, killactive,

# Make active window on top
bind = $main_mod, Up, fullscreen, 1

# Make active window fullscreen
bind = Alt, F10, fullscreen, 0

# Make active window floating
bind = $main_mod, F, togglefloating,

# Switch split between tiles
bind = $main_mod, N, togglesplit,

# Old Alt+Tab window switch
bind = Alt, Tab, cyclenext,
bind = Alt, Tab, bringactivetotop,

# Mouse interactions
bindm = $main_mod, mouse:272, movewindow
bindm = $main_mod, mouse:273, resizewindow

# Moving windows to next / previous workspaces
bind = $main_mod Alt, L, movetoworkspace, r+1
bind = $main_mod Alt, H, movetoworkspace, r-1
# Same, but to the exact workspace
bind = $main_mod Alt, 1, movetoworkspace, 1
bind = $main_mod Alt, 2, movetoworkspace, 2
bind = $main_mod Alt, 3, movetoworkspace, 3
bind = $main_mod Alt, 4, movetoworkspace, 4
bind = $main_mod Alt, 5, movetoworkspace, 5
bind = $main_mod Alt, 6, movetoworkspace, 6
bind = $main_mod Alt, 7, movetoworkspace, 7
bind = $main_mod Alt, 8, movetoworkspace, 8
bind = $main_mod Alt, 9, movetoworkspace, 9
bind = $main_mod Alt, 0, movetoworkspace, 10

# Switch between windows with keyboard
bind = $main_mod, H, movefocus, l
bind = $main_mod, L, movefocus, r
bind = $main_mod, K, movefocus, u
bind = $main_mod, J, movefocus, d

## Workspaces

# Switch to next / previous workspace
bind = $main_mod Control, L, workspace, r+1
bind = $main_mod Control, H, workspace, r-1
# Same, but to the exact workspace
bind = $main_mod Control, 1, workspace, 1
bind = $main_mod Control, 2, workspace, 2
bind = $main_mod Control, 3, workspace, 3
bind = $main_mod Control, 4, workspace, 4
bind = $main_mod Control, 5, workspace, 5
bind = $main_mod Control, 6, workspace, 6
bind = $main_mod Control, 7, workspace, 7
bind = $main_mod Control, 8, workspace, 8
bind = $main_mod Control, 9, workspace, 9
bind = $main_mod Control, 0, workspace, 10


### System control

## Power and session management

# Lock screen
bind = $main_mod, End, exec, systemctl suspend

# Logout, stop session
bind = Control Alt, Delete, exec, $power_menu

## Useful shortcuts / utilities

# Change keyboard layout
bind = $main_mod, Space, exec, hyprctl switchxkblayout all next

# Take screenshot
bind = $main_mod Shift, S, exec, $screenshot_region
bind = $main_mod Control, S, exec, $screenshot_screen

# Pick a color
bind = $main_mod Shift, C, exec, $color_picker

# Notification center
bind = $main_mod, W, exec, $swaync

# XKill-like
bind = $main_mod, M, exec, hyprctl kill

## Volume and brightness control

# With SwayOSD
bindel = ,XF86AudioRaiseVolume, exec, swayosd-client --output-volume 5
bindel = ,XF86AudioLowerVolume, exec, swayosd-client --output-volume -5
bindel = ,XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindel = ,XF86MonBrightnessUp, exec, swayosd-client --brightness +5
bindel = ,XF86MonBrightnessDown, exec, swayosd-client --brightness -5

# Without SwayOSD
# bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
# bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
# bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
# bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
# bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-

## Media control

# With special keys
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

# With common keys
# bindl = Control Shift, Up, exec, playerctl next
# bindl = Control Shift, Down, exec, playerctl previous
# bindl = Control Shift, Left, exec, playerctl position 5-
# bindl = Control Shift, Right, exec, playerctl position 5+
# bindl = Control Shift, Space, exec, playerctl play-pause


### Applications

# App launcher
bind = $main_mod, Super_L, exec, $app_launcher

# Clipboard manager
bind = $main_mod, V, exec, $clipboard

# Alt+Tab window switch
bind = $main_mod, Tab, exec, $alttab

# Wallpaper changer
bind = $main_mod, Z, exec, $wallpaper_changer

# Search utility
bind = $main_mod, S, exec, $search

# Bluetooth
bind = $main_mod, B, exec, $bluetooth

# Runner
bind = $main_mod, R, exec, $runner

# Terminal
bind = $main_mod, T, exec, $terminal

# File manager
bind = $main_mod, E, exec, $file_manager

# Task manager
bind = Control Shift, Escape, exec, $task_manager


### Gestures

# Workspace swipe
gesture = 3, horizontal, workspace
gesture = 4, horizontal, workspace

# App launcher
gesture = 3, up, dispatcher, exec, $app_launcher

# Window switcher
gesture = 3, down, dispatcher, exec, $alttab

# Float
gesture = 4, pinchout, float, float
gesture = 4, pinchin, float, tile

# Resize active window
gesture = 3, swipe, mod: Alt, resize



##################################
#    WINDOW / WORKSPACE RULES    #
##################################

### General
windowrule = suppressevent maximize, class:.*
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# No blur for fullscreen apps
windowrule = noblur, fullscreen:1
